"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/devices/lookup/route";
exports.ids = ["app/api/devices/lookup/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdevices%2Flookup%2Froute&page=%2Fapi%2Fdevices%2Flookup%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdevices%2Flookup%2Froute.ts&appDir=C%3A%5CUsers%5CBurak%5CDocuments%5CGitHub%5Cdestek%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CBurak%5CDocuments%5CGitHub%5Cdestek&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdevices%2Flookup%2Froute&page=%2Fapi%2Fdevices%2Flookup%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdevices%2Flookup%2Froute.ts&appDir=C%3A%5CUsers%5CBurak%5CDocuments%5CGitHub%5Cdestek%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CBurak%5CDocuments%5CGitHub%5Cdestek&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Burak_Documents_GitHub_destek_src_app_api_devices_lookup_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/devices/lookup/route.ts */ \"(rsc)/./src/app/api/devices/lookup/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/devices/lookup/route\",\n        pathname: \"/api/devices/lookup\",\n        filename: \"route\",\n        bundlePath: \"app/api/devices/lookup/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Burak\\\\Documents\\\\GitHub\\\\destek\\\\src\\\\app\\\\api\\\\devices\\\\lookup\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Burak_Documents_GitHub_destek_src_app_api_devices_lookup_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/devices/lookup/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZkZXZpY2VzJTJGbG9va3VwJTJGcm91dGUmcGFnZT0lMkZhcGklMkZkZXZpY2VzJTJGbG9va3VwJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGZGV2aWNlcyUyRmxvb2t1cCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNCdXJhayU1Q0RvY3VtZW50cyU1Q0dpdEh1YiU1Q2Rlc3RlayU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDQnVyYWslNUNEb2N1bWVudHMlNUNHaXRIdWIlNUNkZXN0ZWsmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3FDO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGVzdGVrLz83NTBlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXEJ1cmFrXFxcXERvY3VtZW50c1xcXFxHaXRIdWJcXFxcZGVzdGVrXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGRldmljZXNcXFxcbG9va3VwXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9kZXZpY2VzL2xvb2t1cC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2RldmljZXMvbG9va3VwXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9kZXZpY2VzL2xvb2t1cC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXEJ1cmFrXFxcXERvY3VtZW50c1xcXFxHaXRIdWJcXFxcZGVzdGVrXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGRldmljZXNcXFxcbG9va3VwXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9kZXZpY2VzL2xvb2t1cC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdevices%2Flookup%2Froute&page=%2Fapi%2Fdevices%2Flookup%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdevices%2Flookup%2Froute.ts&appDir=C%3A%5CUsers%5CBurak%5CDocuments%5CGitHub%5Cdestek%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CBurak%5CDocuments%5CGitHub%5Cdestek&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/devices/lookup/route.ts":
/*!*********************************************!*\
  !*** ./src/app/api/devices/lookup/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\nconst dynamic = \"force-dynamic\";\n\n\nasync function GET(request) {\n    const { searchParams } = new URL(request.url);\n    const serial = searchParams.get(\"serial\");\n    const query = searchParams.get(\"q\");\n    if (query) {\n        try {\n            const normalizedQuery = query.trim();\n            if (normalizedQuery.length < 2) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    items: []\n                });\n            }\n            const [repairMatches, installMatches, equivalentMatches] = await Promise.all([\n                _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.deviceRepair.findMany({\n                    where: {\n                        serialNumber: {\n                            contains: normalizedQuery\n                        }\n                    },\n                    orderBy: {\n                        createdAt: \"desc\"\n                    },\n                    take: 12,\n                    include: {\n                        customer: {\n                            select: {\n                                name: true\n                            }\n                        },\n                        company: {\n                            select: {\n                                name: true\n                            }\n                        }\n                    }\n                }),\n                _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.installationDevice.findMany({\n                    where: {\n                        serialNumber: {\n                            contains: normalizedQuery\n                        }\n                    },\n                    orderBy: {\n                        createdAt: \"desc\"\n                    },\n                    take: 12,\n                    include: {\n                        installationForm: {\n                            include: {\n                                customer: {\n                                    select: {\n                                        name: true\n                                    }\n                                },\n                                company: {\n                                    select: {\n                                        name: true\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }),\n                _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.equivalentDevice.findMany({\n                    where: {\n                        serialNumber: {\n                            contains: normalizedQuery\n                        }\n                    },\n                    orderBy: {\n                        createdAt: \"desc\"\n                    },\n                    take: 12,\n                    select: {\n                        id: true,\n                        serialNumber: true,\n                        deviceName: true,\n                        model: true,\n                        brand: true,\n                        createdAt: true\n                    }\n                })\n            ]);\n            const merged = new Map();\n            for (const item of repairMatches){\n                const key = item.serialNumber;\n                if (!key || merged.has(key)) continue;\n                merged.set(key, {\n                    serialNumber: item.serialNumber,\n                    deviceName: item.deviceName,\n                    model: item.model,\n                    brand: item.brand || \"\",\n                    source: \"customer_repair\",\n                    customerName: item.customer?.name || \"\",\n                    companyName: item.company?.name || \"\",\n                    lastSeenAt: item.createdAt\n                });\n            }\n            for (const item of installMatches){\n                const key = item.serialNumber;\n                if (!key || merged.has(key)) continue;\n                merged.set(key, {\n                    serialNumber: item.serialNumber,\n                    deviceName: item.deviceName,\n                    model: item.model,\n                    brand: \"\",\n                    source: \"customer_installation\",\n                    customerName: item.installationForm?.customer?.name || \"\",\n                    companyName: item.installationForm?.company?.name || \"\",\n                    lastSeenAt: item.createdAt\n                });\n            }\n            for (const item of equivalentMatches){\n                const key = item.serialNumber;\n                if (!key || merged.has(key)) continue;\n                merged.set(key, {\n                    serialNumber: item.serialNumber,\n                    deviceName: item.deviceName,\n                    model: item.model,\n                    brand: item.brand || \"\",\n                    source: \"equivalent_inventory\",\n                    equivalentDeviceId: item.id,\n                    customerName: \"\",\n                    companyName: \"\",\n                    lastSeenAt: item.createdAt\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                items: Array.from(merged.values()).slice(0, 12)\n            });\n        } catch (_error) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Lookup search failed\"\n            }, {\n                status: 500\n            });\n        }\n    }\n    if (!serial) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Serial number required\"\n        }, {\n            status: 400\n        });\n    }\n    try {\n        const [inventoryItem, repairItem, cargoItem, installItem, cargoHistory, repairHistory, installHistory, equivalentHistory] = await Promise.all([\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.equivalentDevice.findFirst({\n                where: {\n                    serialNumber: serial\n                },\n                select: {\n                    id: true,\n                    deviceName: true,\n                    model: true,\n                    brand: true\n                }\n            }),\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.deviceRepair.findFirst({\n                where: {\n                    serialNumber: serial\n                },\n                orderBy: {\n                    createdAt: \"desc\"\n                },\n                include: {\n                    customer: {\n                        select: {\n                            name: true\n                        }\n                    },\n                    company: {\n                        select: {\n                            name: true\n                        }\n                    }\n                }\n            }),\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.cargoDevice.findFirst({\n                where: {\n                    serialNumber: serial\n                },\n                orderBy: {\n                    createdAt: \"desc\"\n                },\n                select: {\n                    deviceName: true,\n                    model: true\n                }\n            }),\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.installationDevice.findFirst({\n                where: {\n                    serialNumber: serial\n                },\n                orderBy: {\n                    createdAt: \"desc\"\n                },\n                select: {\n                    deviceName: true,\n                    model: true\n                }\n            }),\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.cargoDevice.findMany({\n                where: {\n                    serialNumber: serial\n                },\n                orderBy: {\n                    createdAt: \"desc\"\n                },\n                take: 8,\n                include: {\n                    cargo: {\n                        select: {\n                            trackingNumber: true,\n                            type: true,\n                            sender: true,\n                            receiver: true,\n                            sentDate: true,\n                            createdAt: true\n                        }\n                    }\n                }\n            }),\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.deviceRepair.findMany({\n                where: {\n                    serialNumber: serial\n                },\n                orderBy: {\n                    createdAt: \"desc\"\n                },\n                take: 8,\n                select: {\n                    repairNumber: true,\n                    status: true,\n                    problemDescription: true,\n                    createdAt: true\n                }\n            }),\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.installationDevice.findMany({\n                where: {\n                    serialNumber: serial\n                },\n                orderBy: {\n                    createdAt: \"desc\"\n                },\n                take: 8,\n                include: {\n                    installationForm: {\n                        select: {\n                            formNumber: true,\n                            company: {\n                                select: {\n                                    name: true\n                                }\n                            },\n                            customer: {\n                                select: {\n                                    name: true\n                                }\n                            },\n                            createdAt: true\n                        }\n                    }\n                }\n            }),\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.equivalentDevice.findMany({\n                where: {\n                    serialNumber: serial\n                },\n                take: 1,\n                include: {\n                    history: {\n                        orderBy: {\n                            changedAt: \"desc\"\n                        },\n                        take: 8\n                    }\n                }\n            })\n        ]);\n        const history = [];\n        for (const item of cargoHistory){\n            const typeText = item.cargo.type === \"INCOMING\" ? \"Gelen kargo\" : item.cargo.type === \"OUTGOING\" ? \"Giden kargo\" : \"Kargo hareketi\";\n            history.push({\n                source: \"cargo\",\n                date: item.cargo.sentDate || item.createdAt,\n                title: `${typeText} - ${item.cargo.trackingNumber}`,\n                details: `${item.cargo.sender} -> ${item.cargo.receiver}`\n            });\n        }\n        for (const item of repairHistory){\n            history.push({\n                source: \"repair\",\n                date: item.createdAt,\n                title: `Tamir - ${item.repairNumber}`,\n                details: `${item.status} | ${item.problemDescription}`\n            });\n        }\n        for (const item of installHistory){\n            history.push({\n                source: \"installation\",\n                date: item.installationForm?.createdAt || item.createdAt,\n                title: `Kurulum - ${item.installationForm?.formNumber || \"-\"}`,\n                details: `${item.installationForm?.company?.name || \"-\"} / ${item.installationForm?.customer?.name || \"-\"}`\n            });\n        }\n        const eq = equivalentHistory[0];\n        if (eq) {\n            for (const move of eq.history){\n                history.push({\n                    source: \"equivalent\",\n                    date: move.changedAt,\n                    title: \"Muadil envanter hareketi\",\n                    details: move.notes || `${move.previousLocation} -> ${move.newLocation}`\n                });\n            }\n        }\n        const sortedHistory = history.sort((a, b)=>new Date(b.date).getTime() - new Date(a.date).getTime()).slice(0, 12);\n        if (inventoryItem) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ...inventoryItem,\n                source: \"equivalent_inventory\",\n                customerName: \"\",\n                companyName: \"\",\n                history: sortedHistory\n            });\n        }\n        if (repairItem) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                deviceName: repairItem.deviceName,\n                model: repairItem.model,\n                brand: repairItem.brand || \"\",\n                source: \"customer_repair\",\n                customerName: repairItem.customer?.name || \"\",\n                companyName: repairItem.company?.name || \"\",\n                history: sortedHistory\n            });\n        }\n        if (cargoItem) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ...cargoItem,\n                brand: \"\",\n                source: \"cargo_history\",\n                customerName: \"\",\n                companyName: \"\",\n                history: sortedHistory\n            });\n        }\n        if (installItem) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ...installItem,\n                brand: \"\",\n                source: \"customer_installation\",\n                customerName: \"\",\n                companyName: \"\",\n                history: sortedHistory\n            });\n        }\n        if (sortedHistory.length > 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                deviceName: \"\",\n                model: \"\",\n                brand: \"\",\n                source: \"history_only\",\n                customerName: \"\",\n                companyName: \"\",\n                history: sortedHistory\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(null);\n    } catch (_error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Lookup failed\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9kZXZpY2VzL2xvb2t1cC9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQU8sTUFBTUEsVUFBVSxnQkFBZTtBQUNJO0FBQ0w7QUFTOUIsZUFBZUcsSUFBSUMsT0FBZ0I7SUFDeEMsTUFBTSxFQUFFQyxZQUFZLEVBQUUsR0FBRyxJQUFJQyxJQUFJRixRQUFRRyxHQUFHO0lBQzVDLE1BQU1DLFNBQVNILGFBQWFJLEdBQUcsQ0FBQztJQUNoQyxNQUFNQyxRQUFRTCxhQUFhSSxHQUFHLENBQUM7SUFFL0IsSUFBSUMsT0FBTztRQUNULElBQUk7WUFDRixNQUFNQyxrQkFBa0JELE1BQU1FLElBQUk7WUFDbEMsSUFBSUQsZ0JBQWdCRSxNQUFNLEdBQUcsR0FBRztnQkFDOUIsT0FBT1oscURBQVlBLENBQUNhLElBQUksQ0FBQztvQkFBRUMsT0FBTyxFQUFFO2dCQUFDO1lBQ3ZDO1lBRUEsTUFBTSxDQUFDQyxlQUFlQyxnQkFBZ0JDLGtCQUFrQixHQUFHLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQztnQkFDM0VsQiwrQ0FBTUEsQ0FBQ21CLFlBQVksQ0FBQ0MsUUFBUSxDQUFDO29CQUMzQkMsT0FBTzt3QkFBRUMsY0FBYzs0QkFBRUMsVUFBVWQ7d0JBQWdCO29CQUFFO29CQUNyRGUsU0FBUzt3QkFBRUMsV0FBVztvQkFBTztvQkFDN0JDLE1BQU07b0JBQ05DLFNBQVM7d0JBQ1BDLFVBQVU7NEJBQUVDLFFBQVE7Z0NBQUVDLE1BQU07NEJBQUs7d0JBQUU7d0JBQ25DQyxTQUFTOzRCQUFFRixRQUFRO2dDQUFFQyxNQUFNOzRCQUFLO3dCQUFFO29CQUNwQztnQkFDRjtnQkFDQTlCLCtDQUFNQSxDQUFDZ0Msa0JBQWtCLENBQUNaLFFBQVEsQ0FBQztvQkFDakNDLE9BQU87d0JBQUVDLGNBQWM7NEJBQUVDLFVBQVVkO3dCQUFnQjtvQkFBRTtvQkFDckRlLFNBQVM7d0JBQUVDLFdBQVc7b0JBQU87b0JBQzdCQyxNQUFNO29CQUNOQyxTQUFTO3dC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QUFHK0MsU0FBUztnQkFDWnJCLE9BQU87Z0JBQ1BPLFFBQVE7Z0JBQ1JDLGNBQWM7Z0JBQ2RDLGFBQWE7Z0JBQ2I2QixTQUFTWTtZQUNYO1FBQ0Y7UUFFQSxJQUFJNUIsYUFBYTtZQUNmLE9BQU83RCxxREFBWUEsQ0FBQ2EsSUFBSSxDQUFDO2dCQUN2QixHQUFHZ0QsV0FBVztnQkFDZHRCLE9BQU87Z0JBQ1BPLFFBQVE7Z0JBQ1JDLGNBQWM7Z0JBQ2RDLGFBQWE7Z0JBQ2I2QixTQUFTWTtZQUNYO1FBQ0Y7UUFFQSxJQUFJQSxjQUFjN0UsTUFBTSxHQUFHLEdBQUc7WUFDNUIsT0FBT1oscURBQVlBLENBQUNhLElBQUksQ0FBQztnQkFDdkJ3QixZQUFZO2dCQUNaQyxPQUFPO2dCQUNQQyxPQUFPO2dCQUNQTyxRQUFRO2dCQUNSQyxjQUFjO2dCQUNkQyxhQUFhO2dCQUNiNkIsU0FBU1k7WUFDWDtRQUNGO1FBRUEsT0FBT3pGLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7SUFDM0IsRUFBRSxPQUFPMEMsUUFBUTtRQUNmLE9BQU92RCxxREFBWUEsQ0FBQ2EsSUFBSSxDQUFDO1lBQUUyQyxPQUFPO1FBQWdCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQ3JFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXN0ZWsvLi9zcmMvYXBwL2FwaS9kZXZpY2VzL2xvb2t1cC9yb3V0ZS50cz9kMTFlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBkeW5hbWljID0gJ2ZvcmNlLWR5bmFtaWMnXG5pbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJ0AvbGliL3ByaXNtYSdcblxudHlwZSBEZXZpY2VIaXN0b3J5SXRlbSA9IHtcbiAgc291cmNlOiAnY2FyZ28nIHwgJ3JlcGFpcicgfCAnaW5zdGFsbGF0aW9uJyB8ICdlcXVpdmFsZW50J1xuICBkYXRlOiBEYXRlXG4gIHRpdGxlOiBzdHJpbmdcbiAgZGV0YWlsczogc3RyaW5nXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogUmVxdWVzdCkge1xuICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcbiAgY29uc3Qgc2VyaWFsID0gc2VhcmNoUGFyYW1zLmdldCgnc2VyaWFsJylcbiAgY29uc3QgcXVlcnkgPSBzZWFyY2hQYXJhbXMuZ2V0KCdxJylcblxuICBpZiAocXVlcnkpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFF1ZXJ5ID0gcXVlcnkudHJpbSgpXG4gICAgICBpZiAobm9ybWFsaXplZFF1ZXJ5Lmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgaXRlbXM6IFtdIH0pXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IFtyZXBhaXJNYXRjaGVzLCBpbnN0YWxsTWF0Y2hlcywgZXF1aXZhbGVudE1hdGNoZXNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBwcmlzbWEuZGV2aWNlUmVwYWlyLmZpbmRNYW55KHtcbiAgICAgICAgICB3aGVyZTogeyBzZXJpYWxOdW1iZXI6IHsgY29udGFpbnM6IG5vcm1hbGl6ZWRRdWVyeSB9IH0sXG4gICAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9LFxuICAgICAgICAgIHRha2U6IDEyLFxuICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgIGN1c3RvbWVyOiB7IHNlbGVjdDogeyBuYW1lOiB0cnVlIH0gfSxcbiAgICAgICAgICAgIGNvbXBhbnk6IHsgc2VsZWN0OiB7IG5hbWU6IHRydWUgfSB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgICBwcmlzbWEuaW5zdGFsbGF0aW9uRGV2aWNlLmZpbmRNYW55KHtcbiAgICAgICAgICB3aGVyZTogeyBzZXJpYWxOdW1iZXI6IHsgY29udGFpbnM6IG5vcm1hbGl6ZWRRdWVyeSB9IH0sXG4gICAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9LFxuICAgICAgICAgIHRha2U6IDEyLFxuICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgIGluc3RhbGxhdGlvbkZvcm06IHtcbiAgICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICAgIGN1c3RvbWVyOiB7IHNlbGVjdDogeyBuYW1lOiB0cnVlIH0gfSxcbiAgICAgICAgICAgICAgICBjb21wYW55OiB7IHNlbGVjdDogeyBuYW1lOiB0cnVlIH0gfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICAgIHByaXNtYS5lcXVpdmFsZW50RGV2aWNlLmZpbmRNYW55KHtcbiAgICAgICAgICB3aGVyZTogeyBzZXJpYWxOdW1iZXI6IHsgY29udGFpbnM6IG5vcm1hbGl6ZWRRdWVyeSB9IH0sXG4gICAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9LFxuICAgICAgICAgIHRha2U6IDEyLFxuICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICBzZXJpYWxOdW1iZXI6IHRydWUsXG4gICAgICAgICAgICBkZXZpY2VOYW1lOiB0cnVlLFxuICAgICAgICAgICAgbW9kZWw6IHRydWUsXG4gICAgICAgICAgICBicmFuZDogdHJ1ZSxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogdHJ1ZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIF0pXG5cbiAgICAgIGNvbnN0IG1lcmdlZCA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KClcblxuICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHJlcGFpck1hdGNoZXMpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gaXRlbS5zZXJpYWxOdW1iZXJcbiAgICAgICAgaWYgKCFrZXkgfHwgbWVyZ2VkLmhhcyhrZXkpKSBjb250aW51ZVxuICAgICAgICBtZXJnZWQuc2V0KGtleSwge1xuICAgICAgICAgIHNlcmlhbE51bWJlcjogaXRlbS5zZXJpYWxOdW1iZXIsXG4gICAgICAgICAgZGV2aWNlTmFtZTogaXRlbS5kZXZpY2VOYW1lLFxuICAgICAgICAgIG1vZGVsOiBpdGVtLm1vZGVsLFxuICAgICAgICAgIGJyYW5kOiBpdGVtLmJyYW5kIHx8ICcnLFxuICAgICAgICAgIHNvdXJjZTogJ2N1c3RvbWVyX3JlcGFpcicsXG4gICAgICAgICAgY3VzdG9tZXJOYW1lOiBpdGVtLmN1c3RvbWVyPy5uYW1lIHx8ICcnLFxuICAgICAgICAgIGNvbXBhbnlOYW1lOiBpdGVtLmNvbXBhbnk/Lm5hbWUgfHwgJycsXG4gICAgICAgICAgbGFzdFNlZW5BdDogaXRlbS5jcmVhdGVkQXQsXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpbnN0YWxsTWF0Y2hlcykge1xuICAgICAgICBjb25zdCBrZXkgPSBpdGVtLnNlcmlhbE51bWJlclxuICAgICAgICBpZiAoIWtleSB8fCBtZXJnZWQuaGFzKGtleSkpIGNvbnRpbnVlXG4gICAgICAgIG1lcmdlZC5zZXQoa2V5LCB7XG4gICAgICAgICAgc2VyaWFsTnVtYmVyOiBpdGVtLnNlcmlhbE51bWJlcixcbiAgICAgICAgICBkZXZpY2VOYW1lOiBpdGVtLmRldmljZU5hbWUsXG4gICAgICAgICAgbW9kZWw6IGl0ZW0ubW9kZWwsXG4gICAgICAgICAgYnJhbmQ6ICcnLFxuICAgICAgICAgIHNvdXJjZTogJ2N1c3RvbWVyX2luc3RhbGxhdGlvbicsXG4gICAgICAgICAgY3VzdG9tZXJOYW1lOiBpdGVtLmluc3RhbGxhdGlvbkZvcm0/LmN1c3RvbWVyPy5uYW1lIHx8ICcnLFxuICAgICAgICAgIGNvbXBhbnlOYW1lOiBpdGVtLmluc3RhbGxhdGlvbkZvcm0/LmNvbXBhbnk/Lm5hbWUgfHwgJycsXG4gICAgICAgICAgbGFzdFNlZW5BdDogaXRlbS5jcmVhdGVkQXQsXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBlcXVpdmFsZW50TWF0Y2hlcykge1xuICAgICAgICBjb25zdCBrZXkgPSBpdGVtLnNlcmlhbE51bWJlclxuICAgICAgICBpZiAoIWtleSB8fCBtZXJnZWQuaGFzKGtleSkpIGNvbnRpbnVlXG4gICAgICAgIG1lcmdlZC5zZXQoa2V5LCB7XG4gICAgICAgICAgc2VyaWFsTnVtYmVyOiBpdGVtLnNlcmlhbE51bWJlcixcbiAgICAgICAgICBkZXZpY2VOYW1lOiBpdGVtLmRldmljZU5hbWUsXG4gICAgICAgICAgbW9kZWw6IGl0ZW0ubW9kZWwsXG4gICAgICAgICAgYnJhbmQ6IGl0ZW0uYnJhbmQgfHwgJycsXG4gICAgICAgICAgc291cmNlOiAnZXF1aXZhbGVudF9pbnZlbnRvcnknLFxuICAgICAgICAgIGVxdWl2YWxlbnREZXZpY2VJZDogaXRlbS5pZCxcbiAgICAgICAgICBjdXN0b21lck5hbWU6ICcnLFxuICAgICAgICAgIGNvbXBhbnlOYW1lOiAnJyxcbiAgICAgICAgICBsYXN0U2VlbkF0OiBpdGVtLmNyZWF0ZWRBdCxcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgaXRlbXM6IEFycmF5LmZyb20obWVyZ2VkLnZhbHVlcygpKS5zbGljZSgwLCAxMikgfSlcbiAgICB9IGNhdGNoIChfZXJyb3IpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTG9va3VwIHNlYXJjaCBmYWlsZWQnIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgICB9XG4gIH1cblxuICBpZiAoIXNlcmlhbCkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnU2VyaWFsIG51bWJlciByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBbaW52ZW50b3J5SXRlbSwgcmVwYWlySXRlbSwgY2FyZ29JdGVtLCBpbnN0YWxsSXRlbSwgY2FyZ29IaXN0b3J5LCByZXBhaXJIaXN0b3J5LCBpbnN0YWxsSGlzdG9yeSwgZXF1aXZhbGVudEhpc3RvcnldID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgcHJpc21hLmVxdWl2YWxlbnREZXZpY2UuZmluZEZpcnN0KHtcbiAgICAgICAgd2hlcmU6IHsgc2VyaWFsTnVtYmVyOiBzZXJpYWwgfSxcbiAgICAgICAgc2VsZWN0OiB7IGlkOiB0cnVlLCBkZXZpY2VOYW1lOiB0cnVlLCBtb2RlbDogdHJ1ZSwgYnJhbmQ6IHRydWUgfSxcbiAgICAgIH0pLFxuICAgICAgcHJpc21hLmRldmljZVJlcGFpci5maW5kRmlyc3Qoe1xuICAgICAgICB3aGVyZTogeyBzZXJpYWxOdW1iZXI6IHNlcmlhbCB9LFxuICAgICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH0sXG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICBjdXN0b21lcjogeyBzZWxlY3Q6IHsgbmFtZTogdHJ1ZSB9IH0sXG4gICAgICAgICAgY29tcGFueTogeyBzZWxlY3Q6IHsgbmFtZTogdHJ1ZSB9IH0sXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICAgIHByaXNtYS5jYXJnb0RldmljZS5maW5kRmlyc3Qoe1xuICAgICAgICB3aGVyZTogeyBzZXJpYWxOdW1iZXI6IHNlcmlhbCB9LFxuICAgICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH0sXG4gICAgICAgIHNlbGVjdDogeyBkZXZpY2VOYW1lOiB0cnVlLCBtb2RlbDogdHJ1ZSB9LFxuICAgICAgfSksXG4gICAgICBwcmlzbWEuaW5zdGFsbGF0aW9uRGV2aWNlLmZpbmRGaXJzdCh7XG4gICAgICAgIHdoZXJlOiB7IHNlcmlhbE51bWJlcjogc2VyaWFsIH0sXG4gICAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnZGVzYycgfSxcbiAgICAgICAgc2VsZWN0OiB7IGRldmljZU5hbWU6IHRydWUsIG1vZGVsOiB0cnVlIH0sXG4gICAgICB9KSxcbiAgICAgIHByaXNtYS5jYXJnb0RldmljZS5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7IHNlcmlhbE51bWJlcjogc2VyaWFsIH0sXG4gICAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnZGVzYycgfSxcbiAgICAgICAgdGFrZTogOCxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIGNhcmdvOiB7XG4gICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgdHJhY2tpbmdOdW1iZXI6IHRydWUsXG4gICAgICAgICAgICAgIHR5cGU6IHRydWUsXG4gICAgICAgICAgICAgIHNlbmRlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgcmVjZWl2ZXI6IHRydWUsXG4gICAgICAgICAgICAgIHNlbnREYXRlOiB0cnVlLFxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICAgIHByaXNtYS5kZXZpY2VSZXBhaXIuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZTogeyBzZXJpYWxOdW1iZXI6IHNlcmlhbCB9LFxuICAgICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH0sXG4gICAgICAgIHRha2U6IDgsXG4gICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgIHJlcGFpck51bWJlcjogdHJ1ZSxcbiAgICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgICAgICAgcHJvYmxlbURlc2NyaXB0aW9uOiB0cnVlLFxuICAgICAgICAgIGNyZWF0ZWRBdDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICAgcHJpc21hLmluc3RhbGxhdGlvbkRldmljZS5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7IHNlcmlhbE51bWJlcjogc2VyaWFsIH0sXG4gICAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnZGVzYycgfSxcbiAgICAgICAgdGFrZTogOCxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIGluc3RhbGxhdGlvbkZvcm06IHtcbiAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICBmb3JtTnVtYmVyOiB0cnVlLFxuICAgICAgICAgICAgICBjb21wYW55OiB7IHNlbGVjdDogeyBuYW1lOiB0cnVlIH0gfSxcbiAgICAgICAgICAgICAgY3VzdG9tZXI6IHsgc2VsZWN0OiB7IG5hbWU6IHRydWUgfSB9LFxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICAgIHByaXNtYS5lcXVpdmFsZW50RGV2aWNlLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHsgc2VyaWFsTnVtYmVyOiBzZXJpYWwgfSxcbiAgICAgICAgdGFrZTogMSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIGhpc3Rvcnk6IHtcbiAgICAgICAgICAgIG9yZGVyQnk6IHsgY2hhbmdlZEF0OiAnZGVzYycgfSxcbiAgICAgICAgICAgIHRha2U6IDgsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgIF0pXG5cbiAgICBjb25zdCBoaXN0b3J5OiBEZXZpY2VIaXN0b3J5SXRlbVtdID0gW11cblxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBjYXJnb0hpc3RvcnkpIHtcbiAgICAgIGNvbnN0IHR5cGVUZXh0ID0gaXRlbS5jYXJnby50eXBlID09PSAnSU5DT01JTkcnID8gJ0dlbGVuIGthcmdvJyA6IGl0ZW0uY2FyZ28udHlwZSA9PT0gJ09VVEdPSU5HJyA/ICdHaWRlbiBrYXJnbycgOiAnS2FyZ28gaGFyZWtldGknXG4gICAgICBoaXN0b3J5LnB1c2goe1xuICAgICAgICBzb3VyY2U6ICdjYXJnbycsXG4gICAgICAgIGRhdGU6IGl0ZW0uY2FyZ28uc2VudERhdGUgfHwgaXRlbS5jcmVhdGVkQXQsXG4gICAgICAgIHRpdGxlOiBgJHt0eXBlVGV4dH0gLSAke2l0ZW0uY2FyZ28udHJhY2tpbmdOdW1iZXJ9YCxcbiAgICAgICAgZGV0YWlsczogYCR7aXRlbS5jYXJnby5zZW5kZXJ9IC0+ICR7aXRlbS5jYXJnby5yZWNlaXZlcn1gLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgcmVwYWlySGlzdG9yeSkge1xuICAgICAgaGlzdG9yeS5wdXNoKHtcbiAgICAgICAgc291cmNlOiAncmVwYWlyJyxcbiAgICAgICAgZGF0ZTogaXRlbS5jcmVhdGVkQXQsXG4gICAgICAgIHRpdGxlOiBgVGFtaXIgLSAke2l0ZW0ucmVwYWlyTnVtYmVyfWAsXG4gICAgICAgIGRldGFpbHM6IGAke2l0ZW0uc3RhdHVzfSB8ICR7aXRlbS5wcm9ibGVtRGVzY3JpcHRpb259YCxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGluc3RhbGxIaXN0b3J5KSB7XG4gICAgICBoaXN0b3J5LnB1c2goe1xuICAgICAgICBzb3VyY2U6ICdpbnN0YWxsYXRpb24nLFxuICAgICAgICBkYXRlOiBpdGVtLmluc3RhbGxhdGlvbkZvcm0/LmNyZWF0ZWRBdCB8fCBpdGVtLmNyZWF0ZWRBdCxcbiAgICAgICAgdGl0bGU6IGBLdXJ1bHVtIC0gJHtpdGVtLmluc3RhbGxhdGlvbkZvcm0/LmZvcm1OdW1iZXIgfHwgJy0nfWAsXG4gICAgICAgIGRldGFpbHM6IGAke2l0ZW0uaW5zdGFsbGF0aW9uRm9ybT8uY29tcGFueT8ubmFtZSB8fCAnLSd9IC8gJHtpdGVtLmluc3RhbGxhdGlvbkZvcm0/LmN1c3RvbWVyPy5uYW1lIHx8ICctJ31gLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBjb25zdCBlcSA9IGVxdWl2YWxlbnRIaXN0b3J5WzBdXG4gICAgaWYgKGVxKSB7XG4gICAgICBmb3IgKGNvbnN0IG1vdmUgb2YgZXEuaGlzdG9yeSkge1xuICAgICAgICBoaXN0b3J5LnB1c2goe1xuICAgICAgICAgIHNvdXJjZTogJ2VxdWl2YWxlbnQnLFxuICAgICAgICAgIGRhdGU6IG1vdmUuY2hhbmdlZEF0LFxuICAgICAgICAgIHRpdGxlOiAnTXVhZGlsIGVudmFudGVyIGhhcmVrZXRpJyxcbiAgICAgICAgICBkZXRhaWxzOiBtb3ZlLm5vdGVzIHx8IGAke21vdmUucHJldmlvdXNMb2NhdGlvbn0gLT4gJHttb3ZlLm5ld0xvY2F0aW9ufWAsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc29ydGVkSGlzdG9yeSA9IGhpc3Rvcnkuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi5kYXRlKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLmRhdGUpLmdldFRpbWUoKSkuc2xpY2UoMCwgMTIpXG5cbiAgICBpZiAoaW52ZW50b3J5SXRlbSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgLi4uaW52ZW50b3J5SXRlbSxcbiAgICAgICAgc291cmNlOiAnZXF1aXZhbGVudF9pbnZlbnRvcnknLFxuICAgICAgICBjdXN0b21lck5hbWU6ICcnLFxuICAgICAgICBjb21wYW55TmFtZTogJycsXG4gICAgICAgIGhpc3Rvcnk6IHNvcnRlZEhpc3RvcnksXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChyZXBhaXJJdGVtKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICBkZXZpY2VOYW1lOiByZXBhaXJJdGVtLmRldmljZU5hbWUsXG4gICAgICAgIG1vZGVsOiByZXBhaXJJdGVtLm1vZGVsLFxuICAgICAgICBicmFuZDogcmVwYWlySXRlbS5icmFuZCB8fCAnJyxcbiAgICAgICAgc291cmNlOiAnY3VzdG9tZXJfcmVwYWlyJyxcbiAgICAgICAgY3VzdG9tZXJOYW1lOiByZXBhaXJJdGVtLmN1c3RvbWVyPy5uYW1lIHx8ICcnLFxuICAgICAgICBjb21wYW55TmFtZTogcmVwYWlySXRlbS5jb21wYW55Py5uYW1lIHx8ICcnLFxuICAgICAgICBoaXN0b3J5OiBzb3J0ZWRIaXN0b3J5LFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoY2FyZ29JdGVtKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAuLi5jYXJnb0l0ZW0sXG4gICAgICAgIGJyYW5kOiAnJyxcbiAgICAgICAgc291cmNlOiAnY2FyZ29faGlzdG9yeScsXG4gICAgICAgIGN1c3RvbWVyTmFtZTogJycsXG4gICAgICAgIGNvbXBhbnlOYW1lOiAnJyxcbiAgICAgICAgaGlzdG9yeTogc29ydGVkSGlzdG9yeSxcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKGluc3RhbGxJdGVtKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAuLi5pbnN0YWxsSXRlbSxcbiAgICAgICAgYnJhbmQ6ICcnLFxuICAgICAgICBzb3VyY2U6ICdjdXN0b21lcl9pbnN0YWxsYXRpb24nLFxuICAgICAgICBjdXN0b21lck5hbWU6ICcnLFxuICAgICAgICBjb21wYW55TmFtZTogJycsXG4gICAgICAgIGhpc3Rvcnk6IHNvcnRlZEhpc3RvcnksXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChzb3J0ZWRIaXN0b3J5Lmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIGRldmljZU5hbWU6ICcnLFxuICAgICAgICBtb2RlbDogJycsXG4gICAgICAgIGJyYW5kOiAnJyxcbiAgICAgICAgc291cmNlOiAnaGlzdG9yeV9vbmx5JyxcbiAgICAgICAgY3VzdG9tZXJOYW1lOiAnJyxcbiAgICAgICAgY29tcGFueU5hbWU6ICcnLFxuICAgICAgICBoaXN0b3J5OiBzb3J0ZWRIaXN0b3J5LFxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24obnVsbClcbiAgfSBjYXRjaCAoX2Vycm9yKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdMb29rdXAgZmFpbGVkJyB9LCB7IHN0YXR1czogNTAwIH0pXG4gIH1cbn1cclxuIl0sIm5hbWVzIjpbImR5bmFtaWMiLCJOZXh0UmVzcG9uc2UiLCJwcmlzbWEiLCJHRVQiLCJyZXF1ZXN0Iiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwic2VyaWFsIiwiZ2V0IiwicXVlcnkiLCJub3JtYWxpemVkUXVlcnkiLCJ0cmltIiwibGVuZ3RoIiwianNvbiIsIml0ZW1zIiwicmVwYWlyTWF0Y2hlcyIsImluc3RhbGxNYXRjaGVzIiwiZXF1aXZhbGVudE1hdGNoZXMiLCJQcm9taXNlIiwiYWxsIiwiZGV2aWNlUmVwYWlyIiwiZmluZE1hbnkiLCJ3aGVyZSIsInNlcmlhbE51bWJlciIsImNvbnRhaW5zIiwib3JkZXJCeSIsImNyZWF0ZWRBdCIsInRha2UiLCJpbmNsdWRlIiwiY3VzdG9tZXIiLCJzZWxlY3QiLCJuYW1lIiwiY29tcGFueSIsImluc3RhbGxhdGlvbkRldmljZSIsImluc3RhbGxhdGlvbkZvcm0iLCJlcXVpdmFsZW50RGV2aWNlIiwiaWQiLCJkZXZpY2VOYW1lIiwibW9kZWwiLCJicmFuZCIsIm1lcmdlZCIsIk1hcCIsIml0ZW0iLCJrZXkiLCJoYXMiLCJzZXQiLCJzb3VyY2UiLCJjdXN0b21lck5hbWUiLCJjb21wYW55TmFtZSIsImxhc3RTZWVuQXQiLCJlcXVpdmFsZW50RGV2aWNlSWQiLCJBcnJheSIsImZyb20iLCJ2YWx1ZXMiLCJzbGljZSIsIl9lcnJvciIsImVycm9yIiwic3RhdHVzIiwiaW52ZW50b3J5SXRlbSIsInJlcGFpckl0ZW0iLCJjYXJnb0l0ZW0iLCJpbnN0YWxsSXRlbSIsImNhcmdvSGlzdG9yeSIsInJlcGFpckhpc3RvcnkiLCJpbnN0YWxsSGlzdG9yeSIsImVxdWl2YWxlbnRIaXN0b3J5IiwiZmluZEZpcnN0IiwiY2FyZ29EZXZpY2UiLCJjYXJnbyIsInRyYWNraW5nTnVtYmVyIiwidHlwZSIsInNlbmRlciIsInJlY2VpdmVyIiwic2VudERhdGUiLCJyZXBhaXJOdW1iZXIiLCJwcm9ibGVtRGVzY3JpcHRpb24iLCJmb3JtTnVtYmVyIiwiaGlzdG9yeSIsImNoYW5nZWRBdCIsInR5cGVUZXh0IiwicHVzaCIsImRhdGUiLCJ0aXRsZSIsImRldGFpbHMiLCJlcSIsIm1vdmUiLCJub3RlcyIsInByZXZpb3VzTG9jYXRpb24iLCJuZXdMb2NhdGlvbiIsInNvcnRlZEhpc3RvcnkiLCJzb3J0IiwiYSIsImIiLCJEYXRlIiwiZ2V0VGltZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/devices/lookup/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log: [\n        \"query\",\n        \"error\",\n        \"warn\"\n    ]\n});\nif (true) {\n    globalForPrisma.prisma = prisma;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkM7QUFFN0MsTUFBTUMsa0JBQWtCQztBQUlqQixNQUFNQyxTQUFTRixnQkFBZ0JFLE1BQU0sSUFBSSxJQUFJSCx3REFBWUEsQ0FBQztJQUMvREksS0FBSztRQUFDO1FBQVM7UUFBUztLQUFPO0FBQ2pDLEdBQUU7QUFFRixJQUFJQyxJQUF5QixFQUFjO0lBQ3pDSixnQkFBZ0JFLE1BQU0sR0FBR0E7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXN0ZWsvLi9zcmMvbGliL3ByaXNtYS50cz8wMWQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xyXG5cclxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHtcclxuICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcHJpc21hID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/PyBuZXcgUHJpc21hQ2xpZW50KHtcclxuICBsb2c6IFsncXVlcnknLCAnZXJyb3InLCAnd2FybiddLFxyXG59KVxyXG5cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IHByaXNtYVxufVxuXHJcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwibG9nIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prisma.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fdevices%2Flookup%2Froute&page=%2Fapi%2Fdevices%2Flookup%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdevices%2Flookup%2Froute.ts&appDir=C%3A%5CUsers%5CBurak%5CDocuments%5CGitHub%5Cdestek%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CBurak%5CDocuments%5CGitHub%5Cdestek&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();